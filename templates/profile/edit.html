{% extends "body.html" %}

{% block title %}
    <title>Изменение профиля</title>
{% endblock %}

{% block content %}

    <form class="abide-form" data-abide novalidate action="{% url 'profile:edit' %}" method="post">
        {% csrf_token %}

        <label>
            E-mail
            <input type="text" pattern="email" id="email" name={{ form.email.html_name }} value="{{ form.email.value }}"
                   required>
            <span class="form-error">Обязательное поле. Необходим валидный e-mail вида username@mail.ru</span>
        </label>

        <label>
            Фамилия
            <input type="text" name={{ form.last_name.html_name }}
                   value="{{ form.last_name.value }}" required>
            <span class="form-error">Обязательное поле. Допустимы только русские буквы</span>
        </label>

        <label>
            Имя
            <input type="text" name={{ form.first_name.html_name }}
                   value="{{ form.first_name.value }}" required>
            <span class="form-error">Обязательное поле. Допустимы только русские буквы</span>
        </label>

        <label>
            Отчество
            <input type="text" name={{ form.father_name.html_name }}
                   value="{{ form.father_name.value }}" required>
            <span class="form-error">Обязательное поле. Допустимы только русские буквы</span>
        </label>

        <label>
            Дата выдачи паспорта
            <input type="text" id="passport_date"
                   name={{ form.passport_date.html_name }} value="{{ form.passport_date.value.day }}-{{ form.passport_date.value.month }}-{{ form.passport_date.value.year }}"
                   pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}" required>
            <span class="form-error">Обязательное поле.</span>
        </label>

        <label>
            Серия паспорта
            <input type="text" id="passport_ser"
                   name={{ form.passport_ser.html_name }} value="{{ form.passport_ser.value }}"
                   pattern="[A-Z]{2}[0-9]{7}" required>
            <span class="form-error">Обязательное поле. Большие англ. буквы. 9 символов</span>
        </label>

        <label>
            Идентификационный номер
            <input type="text" id="passport_id" placeholder="1234567A123BC1"
                   name={{ form.passport_id.html_name }} value="{{ form.passport_id.value }}"
                   pattern="[0-9]{7}[A-Z]{1}[0-9]{3}[A-Z]{2}[0-9]{1}" required>
            <span class="form-error">Обязательное поле. Большие англ. буквы. 14 символов</span>
        </label>

        <label>
            Контактный телефон
            <input type="text" id="phone" name={{ form.phone.html_name }} value="{{ form.phone.value }}" required
                   pattern="\+\d\d\d \d\d \d\d\d\-\d\d\-\d\d">
            <span class="form-error">Обязательное поле.</span>
        </label>

        <label>
            Адрес
            <input type="text" id="address" name={{ form.address.html_name }} value="{{ form.address.value }}" required>
            <span class="form-error">Обязательное поле.</span>
        </label>

        <input class="btn btn-default" type="submit" value="Подтвердить"/>
    </form>
    <script>
        $(document).foundation();
        jQuery(function ($) {
            $('#passport_date').inputmask("dd-mm-yyyy");
            $('#passport_ser').inputmask('Regex', {regex: "[A-Z]{2}[0-9]{7}"});
            $('#passport_id').inputmask('Regex', {regex: "[0-9]{7}[A-Z]{1}[0-9]{3}[A-Z]{2}[0-9]{1}"});
            $('#phone').inputmask("+375 99 999-99-99");
        });
    </script>
{% endblock %}